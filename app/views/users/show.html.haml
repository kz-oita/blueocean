= render 'layouts/header'
= render 'layouts/main_menu'
.contents-title
  = "#{@user.name}のマイページ"

- unless current_user?(@user)
  #follow_form
    - if current_user.following?(@user)
      = form_with(model: current_user.active_follows.find_by(followed_id: @user.id), method: :delete) do |f|
        = f.hidden_field :followed_id
        = f.submit 'フォローを解除する'
    - else
      = form_with(model: current_user.active_follows.build(followed_id: @user.id)) do |f|
        = f.hidden_field :followed_id
        = f.submit 'フォローする'


.profile
  .profile__left
    .profile__left__pic
      - if @user.image.url.present?
        = image_tag @user.image.url
  .profile__right
    .profile__right__content
      = "Diver Lank : #{@user.diver_lank}"
    .profile__right__content
      = "Dive Number : #{@user.dive_number}本"
    .profile__right__content
      %p 自己紹介
      = @user.text
.userinfo
  .userinfo__post-num
    %p 投稿数
    %p.userinfo__number
      = @user.posts.count
  .userinfo__follow-num
    %p フォロー数
    %p.userinfo__number
      = @user.followings.count
  .userinfo__follower-num
    %p フォロワー数
    %p.userinfo__number
      = @user.followers.count

.contents-wrap
  .posts-wrap
    - @posts.each do |post|
      .posts-wrap__lists
        .post
          .post__title
            = link_to post.title, post_path(post.id)
          .post__image
            = image_tag post.image.to_s
            
= paginate(@posts)

.footer